<!DOCTYPE html>
<html>
  <head>
    <title>Nunjucks</title>

    <link rel="stylesheet" type="text/css"
          href="bower_components/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <link rel="stylesheet" type="text/css" href="css/app.css" />
  </head>

  <body id="">
    <nav class="navbar navbar-default ">
      <a class="pull-left logo" href="/nunjucks">Nunjucks</a>

      <ul class="nav navbar-nav navbar-right pull-right">
        <li><a href="/nunjucks#download" class="download">Download</a></li>
        <li><a href="https://github.com/jlongster/nunjucks">Github</a></li>
        <li class="dropdown">
          <a href="getting-started.html" data-toggle="dropdown">Docs</a>

          <ul class="dropdown-menu">
            <li><a href="getting-started.html">Getting Started</a></li>
            <li><a href="templating.html">Templating</a></li>
            <li><a href="api.html">API</a></li>
            <li><a href="faq.html">FAQ</a></li>
          </ul>
        </li>
      </ul>
    </nav>

<div class="content clearfix">
  <aside class="col-sm-3">
    <div class="pages">
      <p><strong>Documentation</strong></p>

      <ul>
        <li><a href="getting-started.html">Getting Started</a></li>
        <li><a href="templating.html">Templating</a></li>
        <li><a href="api.html">API</a></li>
        <li><a href="faq.html">FAQ</a></li>
      </ul>
    </div>

    <div class="toc">
      <p><strong>Templates</strong></p>
      <ul>
<li>
<a href="#">模板</a>
<ul>
<li>
<a href="#variables">Variables</a>
</li>
<li>
<a href="#filters">Filters</a>
</li>
<li>
<a href="#template-inheritance">Template Inheritance</a>
</li>
<li>
<a href="#tags">Tags</a>
<ul>
<li>
<a href="#if">if</a>
</li>
<li>
<a href="#for">for</a>
</li>
<li>
<a href="#asynceach">asyncEach</a>
</li>
<li>
<a href="#asyncall">asyncAll</a>
</li>
<li>
<a href="#macro">macro</a>
</li>
<li>
<a href="#set">set</a>
</li>
<li>
<a href="#extends">extends</a>
</li>
<li>
<a href="#block">block</a>
</li>
<li>
<a href="#include">include</a>
</li>
<li>
<a href="#import">import</a>
</li>
<li>
<a href="#raw">raw</a>
</li>
</ul>
</li>
<li>
<a href="#keyword-arguments">Keyword Arguments</a>
</li>
<li>
<a href="#comments">Comments</a>
</li>
<li>
<a href="#whitespace-control">Whitespace Control</a>
</li>
<li>
<a href="#expressions">Expressions</a>
<ul>
<li>
<a href="#math">Math</a>
</li>
<li>
<a href="#comparisons">Comparisons</a>
</li>
<li>
<a href="#logic">Logic</a>
</li>
<li>
<a href="#if-expression">If Expression</a>
</li>
<li>
<a href="#function-calls">Function Calls</a>
</li>
</ul>
</li>
<li>
<a href="#autoescaping">Autoescaping</a>
</li>
<li>
<a href="#global-functions">Global Functions</a>
<ul>
<li>
<a href="#rangestart-stop-step">range([start], stop, [step])</a>
</li>
<li>
<a href="#cycleritem1-item2-itemn">cycler(item1, item2, ...itemN)</a>
</li>
<li>
<a href="#joinerseparator">joiner([separator])</a>
</li>
</ul>
</li>
<li>
<a href="#builtin-filters">Builtin Filters</a>
</li>
</ul>
</li>
</ul>

    </div>
  </aside>

  <div class="col-sm-9 main">
    <h1 id="">模板</h1>

<p>This is an overview of the templating features available in nunjucks.</p>

<blockquote>
<p>Nunjucks 是 <a href="http://jinja.pocoo.org/docs/">jinja2</a> 的 javascript 的实现，所以如果此文档有什么缺失，你可以直接查看 <a href="http://jinja.pocoo.org/docs/templates/">jinja2 的文档</a>，不过两者之间还存在一些<a href="http://jlongster.github.io/nunjucks/faq.html#can-i-use-the-same-templates-between-nunjucks-and-jinja2-what-are-the-differences">差异</a>。</p>
</blockquote>

<h2 id="variables">Variables</h2>

<p>A variable looks up a value from the template context. If you wanted
to simply display a variable, you would do:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">username</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<p>This looks up <code>username</code> from the context and displays it. Variable
names can have dots in them which lookup properties, just like
javascript. You can also use the square bracket syntax.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo.bar</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span><span class="o">[</span><span class="s2">&quot;bar&quot;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<p>These two forms to the exact same thing, just like javascript.</p>

<p>If a value is <code>undefined</code> or <code>null</code>, nothing is displayed. The same
behavior occurs when referencing undefined or null objects. The
following all output nothing if <code>foo</code> is undefined: <code>{{ foo }}</code>, <code>{{
foo.bar }}</code>, <code>{{ foo.bar.baz }}</code>.</p>

<h2 id="filters">Filters</h2>

<p>Filters are essentially functions that can be applied to variables.
They are called with a pipe operator (<code>|</code>) and can take arguments.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo</span> <span class="o">|</span> <span class="nf">title</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">|</span> <span class="nf">join</span><span class="o">(</span><span class="s2">&quot;,&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">|</span> <span class="nf">replace</span><span class="o">(</span><span class="s2">&quot;foo&quot;</span><span class="o">,</span> <span class="s2">&quot;bar&quot;</span><span class="o">)</span> <span class="o">|</span> <span class="nf">capitalize</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<p>The third example shows how you can chain filters. It would display
&quot;Bar&quot;, by first replacing &quot;foo&quot; with &quot;bar&quot; and then capitalizing it.</p>

<p>Nunjucks comes with several
<a href="#builtin-filters">builtin filters</a>, and you can
<a href="api#Registering-custom-filters">add your own</a> as well.</p>

<h2 id="template-inheritance">Template Inheritance</h2>

<p>Template inheritance is a way to make it easy to reuse templates. When
writing a template, you can define &quot;blocks&quot; that child templates can
override. The inheritance chain can be as long as you like.</p>

<p>If we have a template <code>parent.html</code> that looks like this:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">header</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">This is the default content</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;section class=&quot;left&quot;&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">left</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/section&gt;</span>

<span class="x">&lt;section class=&quot;right&quot;&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">right</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  This is more content</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/section&gt;</span>
</code></pre></div>
<p>And we render this template:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;parent.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">left</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">This is the left side!</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">right</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">This is the right side!</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>The output would be:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="x">This is the default content</span>

<span class="x">&lt;section class=&quot;left&quot;&gt;</span>
<span class="x">  This is the left side!</span>
<span class="x">&lt;/section&gt;</span>

<span class="x">&lt;section class=&quot;right&quot;&gt;</span>
<span class="x">  This is the right side!</span>
<span class="x">&lt;/section&gt;  </span>
</code></pre></div>
<p>You can store the template to inherit in a variable and use it by
emitting quotes. That way you can dynamically change which template is
inherited when rendering by setting it in the context.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">extends</span> <span class="nv">parentTemplate</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>You leverage inheritance with the <a href="#extends"><code>extends</code></a> and
<a href="#block"><code>block</code></a> tags. A more detailed explanation of inheritance can
be found in the <a href="http://jinja.pocoo.org/docs/templates/#template-inheritance">jinja2
docs</a>.</p>

<h2 id="tags">Tags</h2>

<p>Tags are special blocks that perform operations on sections of the
template. Nunjucks comes with several builtin, but <a href="api.html#custom-tags">you can add your own</a>.</p>

<h3 id="if">if</h3>

<p><code>if</code> tests a condition and lets you selectively display content. It behaves exactly as javascript&#39;s <code>if</code> behaves.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">variable</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  It is true</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>If variable is defined and evaluates to true, &quot;It is true&quot; will be displayed. Otherwise, nothing will be.</p>

<p>You can specify alternate conditions with <code>elif</code> and <code>else</code>:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">hungry</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  I am hungry</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="nv">tired</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  I am tired</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  I am good!</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>You can also use if as an <a href="#if-expression">inline expression</a>.</p>

<h3 id="for">for</h3>

<p><code>for</code> iterates over arrays and dictionaries.</p>

<blockquote>
<p>If you are using a custom template loader that is asynchronous, see
<a href="#asynceach"><code>asyncEach</code></a>)</p>
</blockquote>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[{</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">2</span><span class="p">}];</span>
</code></pre></div><div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="x">&lt;h1&gt;Posts&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">items</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">item.title</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</code></pre></div>
<p>The above example lists all the posts using the <code>title</code> attribute of each item in the <code>items</code> array as the display value.</p>

<p>You can also iterate over objects/hashes:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="kd">var</span> <span class="nx">food</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;ketchup&#39;</span><span class="o">:</span> <span class="s1">&#39;5 tbsp&#39;</span><span class="p">,</span>
  <span class="s1">&#39;mustard&#39;</span><span class="o">:</span> <span class="s1">&#39;1 tbsp&#39;</span><span class="p">,</span>
  <span class="s1">&#39;pickle&#39;</span><span class="o">:</span> <span class="s1">&#39;0 tbsp&#39;</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">ingredient</span><span class="o">,</span> <span class="nv">amount</span> <span class="k">in</span> <span class="nv">food</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  Use </span><span class="cp">{{</span> <span class="nv">amount</span> <span class="cp">}}</span><span class="x"> of </span><span class="cp">{{</span> <span class="nv">ingredient</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>The <a href="http://jinja.pocoo.org/docs/templates/#dictsort"><code>dictsort</code></a> filter is available for sorting objects when iterating over them (<em>new in 0.1.8</em>).</p>

<p>Additionally, nunjucks will unpack arrays into variables (<em>new in 0.1.8</em>):</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="kd">var</span> <span class="nx">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">]];</span>
</code></pre></div><div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">x</span><span class="o">,</span> <span class="nv">y</span><span class="o">,</span> <span class="nv">z</span> <span class="k">in</span> <span class="nv">points</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  Point: </span><span class="cp">{{</span> <span class="nv">x</span> <span class="cp">}}</span><span class="x">, </span><span class="cp">{{</span> <span class="nv">y</span> <span class="cp">}}</span><span class="x">, </span><span class="cp">{{</span> <span class="nv">z</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>Inside loops, you have access to a few special variables:</p>

<ul>
<li><code>loop.index</code>: the current iteration of the loop (1 indexed)</li>
<li><code>loop.index0</code>: the current iteration of the loop (0 indexed)</li>
<li><code>loop.revindex</code>: number of iterations until the end (1 indexed)</li>
<li><code>loop.revindex0</code>: number of iterations until the end (0 based)</li>
<li><code>loop.first</code>: boolean indicating the first iteration</li>
<li><code>loop.last</code>: boolean indicating the last iteration</li>
<li><code>loop.length</code>: total number of items</li>
</ul>

<h3 id="asynceach">asyncEach</h3>

<blockquote>
<p>This is only applicable to asynchronous templates. Read about
them <a href="api.html#asynchronous-support">here</a></p>
</blockquote>

<p><code>asyncEach</code> is an asynchronous version of <code>for</code>. You only need this if
you are using a <a href="#asynchronous">custom template loader that is
asynchronous</a>; otherwise you will never need it. Async
filters and extensions also need this, but internally loops are
automatically converted into <code>asyncEach</code> if any async filters and
extensions are used within the loop.</p>

<p><code>asyncEach</code> has exactly the same behavior of <code>for</code>, but it enables
asynchronous control of the loop. The reason those tags are separate
is performance; most people use templates synchronously and it&#39;s
much faster for <code>for</code> to compile to a straight JavaScript <code>for</code> loop.</p>

<p>At compile-time, nunjucks is not aware how templates are loaded so
it&#39;s unable to determine if an <code>include</code> block is asynchronous or not.
That&#39;s why it can&#39;t automatically convert loops for you, and you must
use <code>asyncEach</code> for iteration if you are loading templates
asynchronously inside the loop.</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="c1">// If you are using a custom loader that is async, you need asyncEach</span>
<span class="kd">var</span> <span class="nx">env</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">nunjucks</span><span class="p">.</span><span class="nx">Environment</span><span class="p">(</span><span class="nx">AsyncLoaderFromDatabase</span><span class="p">,</span> <span class="nx">opts</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="x">&lt;h1&gt;Posts&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="cp">{%</span> <span class="k">asyncEach</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">items</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;item-template.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endeach</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</code></pre></div>
<h3 id="asyncall">asyncAll</h3>

<blockquote>
<p>This is only applicable to asynchronous templates. Read about
them <a href="api.html#asynchronous-support">here</a></p>
</blockquote>

<p><code>asyncAll</code> is similar to <code>asyncEach</code>, except it renders all the items
in parallel, preserving the order of the items. This is only helpful
if you are using asynchronous filters, extensions, or loaders.
Otherwise you should never use this.</p>

<p>Let&#39;s say you created a filter named <code>lookup</code> that fetches some text
from a database. You could then render multiple items in parallel with
<code>asyncAll</code>:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="x">&lt;h1&gt;Posts&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="cp">{%</span> <span class="k">asyncAll</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">items</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">item.id</span> <span class="o">|</span> <span class="nf">lookup</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endall</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</code></pre></div>
<p>If <code>lookup</code> is an asynchronous filter, it&#39;s probably doing something
slow like fetching something from disk. <code>asyncAll</code> allows you reduce
the time it would take to execute the loop sequentially by doing all
the async work in parallel, and the template rendering resumes once
all the items are done.</p>

<h3 id="macro">macro</h3>

<p><code>macro</code> allows you to define reusable chunks of content. It is similar to a function in a programming language. Here&#39;s an example:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">field</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;div class=&quot;field&quot;&gt;</span>
<span class="x">  &lt;input type=&quot;</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="x">&quot; name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot;</span>
<span class="x">         value=&quot;</span><span class="cp">{{</span> <span class="nv">value</span> <span class="o">|</span> <span class="nf">escape</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="x">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>Now <code>field</code> is available to be called like a normal function:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">field</span><span class="o">(</span><span class="s1">&#39;user&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">field</span><span class="o">(</span><span class="s1">&#39;pass&#39;</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<p>Keyword/default arguments are available. See <a href="#keyword-arguments">keyword arguments</a> for a more detailed explanation.</p>

<p>You can <a href="#import">import</a> macros from other templates, allowing you to reuse them freely across your project.</p>

<h3 id="set">set</h3>

<p><code>set</code> lets you create/modify a variable.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">username</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">username</span> <span class="o">=</span> <span class="s2">&quot;joe&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">username</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<p>If <code>username</code> was initially &quot;james&#39;, this would print &quot;james joe&quot;.</p>

<p>You can introduce new variables, and also set multiple at once:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">x</span><span class="o">,</span> <span class="nv">y</span><span class="o">,</span> <span class="nv">z</span> <span class="o">=</span> <span class="m">5</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>If <code>set</code> is used at the top-level, it changes the value of the global template context. If used inside scoped blocks, like <code>for</code>, <code>include</code>, and others, it only modifies the current scope.</p>

<h3 id="extends">extends</h3>

<p><code>extends</code> is used to specify template inheritance. The specified
template is used as a base template. See <a href="#template-inheritance">Template
Inheritance</a>.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>You can store the template to inherit in a variable and use it by
emitting quotes. That way you can dynamically change which template is
inherited when rendering by setting it in the context.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">extends</span> <span class="nv">parentTemplate</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<h3 id="block">block</h3>

<p><code>block</code> defines a section on the template and identifies it with a
name. This is used by template inheritance. Base templates can specify
blocks and child templates can override them with new content. See
<a href="#template-inheritance">Template Inheritance</a>.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">css</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;link rel=&quot;stylesheet&quot; href=&quot;app.css&quot; /&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="o">}</span>
</code></pre></div>
<p>You can even define blocks within looping:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">items</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">item</span> <span class="cp">%}{{</span> <span class="nv">item</span> <span class="cp">}}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>Child templates can override the <code>item</code> block and change how it is displayed:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;item.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">item</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">The name of the item is: </span><span class="cp">{{</span> <span class="nv">item.name</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<h3 id="include">include</h3>

<p><code>include</code> pulls in other templates in place. It&#39;s useful when you need to share smaller chunks across several templates that already inherit other templates.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;item.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>You can even include templates in the middle of loops:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">items</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;item.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>This is especially useful for cutting up templates into pieces so that the browser-side environment can render the small chunks when it needs to change the page.</p>

<h3 id="import">import</h3>

<p><code>import</code> loads a different template and allows you to access its exported values. Macros and top-level assignments (done with <a href="#set"><code>set</code></a>) are exported from templates, allowing you to access them in a different template.</p>

<p>Imported templates are processed without the current context, so they do not have access to any of the current template variables.</p>

<p>Let&#39;s start with a template called <code>forms.html</code> that has the following in it:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">field</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;div class=&quot;field&quot;&gt;</span>
<span class="x">  &lt;input type=&quot;</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="x">&quot; name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot;</span>
<span class="x">         value=&quot;</span><span class="cp">{{</span> <span class="nv">value</span> <span class="o">|</span> <span class="nf">escape</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="x">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">macro</span> <span class="nv">label</span><span class="o">(</span><span class="nv">text</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;div&gt;</span>
<span class="x">  &lt;label&gt;</span><span class="cp">{{</span> <span class="nv">text</span> <span class="cp">}}</span><span class="x">&lt;/label&gt;</span>
<span class="x">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>We can import this template and bind all of its exported values to a variable so that we can use it:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">import</span> <span class="s2">&quot;forms.html&quot;</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">forms.label</span><span class="o">(</span><span class="s1">&#39;Username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;user&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">forms.label</span><span class="o">(</span><span class="s1">&#39;Password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;pass&#39;</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<p>You can also import specific values from a template into the current namespace with <code>from import</code>:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">from</span> <span class="s2">&quot;forms.html&quot;</span> <span class="k">import</span> <span class="nv">input</span><span class="o">,</span> <span class="nv">label</span> <span class="k">as</span> <span class="nv">description</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">description</span><span class="o">(</span><span class="s1">&#39;Username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">input</span><span class="o">(</span><span class="s1">&#39;user&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">description</span><span class="o">(</span><span class="s1">&#39;Password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">input</span><span class="o">(</span><span class="s1">&#39;pass&#39;</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<h3 id="raw">raw</h3>

<p>If you want to output any of the special nunjucks tags like <code>{{</code>, you can use <code>raw</code> and anything inside of it will be output as plain text.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">raw</span> <span class="cp">%}</span>this will {{ not be processed }}{%<span class="cp">{%</span> <span class="k">endraw</span> <span class="cp">%}{%</span> <span class="k">raw</span> <span class="cp">%}</span><span class="x"> endraw %}</span>
</code></pre></div>
<h2 id="keyword-arguments">Keyword Arguments</h2>

<p>jinja2 uses Python&#39;s keyword arguments support to allow keyword arguments in functions, filters, and macros. Nunjucks supports keyword arguments as well by introduction a new calling convention.</p>

<p>Keyword arguments look like this:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo</span><span class="o">(</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="nv">bar</span><span class="o">=</span><span class="m">3</span><span class="o">,</span> <span class="nv">baz</span><span class="o">=</span><span class="m">4</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<p><code>bar</code> and <code>baz</code> are keyword arguments. Nunjucks converts them into a hash and passes it as the last argument. It&#39;s equivalent to this call in javascript:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="nx">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="mi">4</span><span class="p">})</span>
</code></pre></div>
<p>Since this is a standard calling convention, it works for all functions and filters if they are written to expect them. <a href="api#Keyword-Arguments">Read more</a> about this in the API section.</p>

<p>Macros allow you to also use keyword arguments in the definition, which allows you to specify default values. Nunjucks automatically maps the keyword arguments to the ones defined with the macro.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">{% macro foo(x, y, z=5, w=6) %}
{{ x }}, {{ y }}, {{ z }}, {{ w}}
{% endmacro %}

{{ foo(1, 2) }}        -&gt; 1, 2, 5, 6
{{ foo(1, 2, w=10) }}  -&gt; 1, 2, 5, 10
</code></pre></div>
<p>You can mix positional and keyword arguments with macros. For example, you can specify a positional argument as a keyword argument:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo</span><span class="o">(</span><span class="m">20</span><span class="o">,</span> <span class="nv">y</span><span class="o">=</span><span class="m">21</span><span class="o">)</span> <span class="cp">}}</span><span class="x">     -&gt; 20, 21, 5, 6</span>
</code></pre></div>
<p>You can also simply pass a positional argument in place of a keyword argument:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo</span><span class="o">(</span><span class="m">5</span><span class="o">,</span> <span class="m">6</span><span class="o">,</span> <span class="m">7</span><span class="o">,</span> <span class="m">8</span><span class="o">)</span> <span class="cp">}}</span><span class="x">   -&gt; 5, 6, 7, 8</span>
</code></pre></div>
<p>In this way, you can &quot;skip&quot; positional arguments:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo</span><span class="o">(</span><span class="m">8</span><span class="o">,</span> <span class="nv">z</span><span class="o">=</span><span class="m">7</span><span class="o">)</span> <span class="cp">}}</span><span class="x">      -&gt; 8, , 7, 6</span>
</code></pre></div>
<h2 id="comments">Comments</h2>

<p>You can write comments using <code>{#</code> and <code>#}</code>. Comments are completely stripped out when rendering.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="c">{# Loop through all the users #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x">...</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<h2 id="whitespace-control">Whitespace Control</h2>

<p><em>Introduced in v0.1.8</em></p>

<p>Normally the template engine outputs everything outside of variable and tag blocks verbatim, with all the whitespace as it is in the file. Occasionally you don&#39;t want the extra whitespace, but you still want to format the template cleanly, which requires whitespace.</p>

<p>You can tell the engine to strip all leading or trailing whitespace by adding a minus sign (<code>-</code>) to the start or end block tag.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span><span class="m">2</span><span class="o">,</span><span class="m">3</span><span class="o">,</span><span class="m">4</span><span class="o">,</span><span class="m">5</span><span class="o">]</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>The exact output of the above would be &quot;12345&quot;. The <code>-%}</code> strips the whitespace right after the tag, and the <code>{%-</code> strips the whitespace right before the tag.</p>

<h2 id="expressions">Expressions</h2>

<p>You can use many types of literal expressions that you are used to in javascript.</p>

<ul>
<li>Strings: <code>&quot;How are you?&quot;</code>, <code>&#39;How are you?&#39;</code></li>
<li>Numbers: <code>40</code>, <code>30.123</code></li>
<li>Arrays: <code>[1, 2, &quot;array&quot;]</code></li>
<li>Dicts: <code>{ one: 1, two: 2 }</code></li>
<li>Boolean: <code>true</code>, <code>false</code></li>
</ul>

<h3 id="math">Math</h3>

<p>Nunjucks allows you to operate on values (though it should be used sparingly, as most of your logic should be in code). The following operators are available:</p>

<ul>
<li>Addition: <code>+</code></li>
<li>Subtraction: <code>-</code></li>
<li>Division: <code>/</code></li>
<li>Division and integer truncation: <code>//</code></li>
<li>Division remainder: <code>%</code></li>
<li>Multiplication: <code>*</code></li>
<li>Power: <code>**</code></li>
</ul>

<p>You can use them like this:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="m">2</span> <span class="o">+</span> <span class="m">3</span> <span class="cp">}}</span><span class="x">       (outputs 5)</span>
<span class="cp">{{</span> <span class="m">10</span><span class="o">/</span><span class="m">5</span> <span class="cp">}}</span><span class="x">        (outputs 2)</span>
<span class="cp">{{</span> <span class="nv">numItems</span><span class="o">*</span><span class="m">2</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<h3 id="comparisons">Comparisons</h3>

<ul>
<li><code>==</code></li>
<li><code>!=</code></li>
<li><code>&gt;</code></li>
<li><code>&gt;=</code></li>
<li><code>&lt;</code></li>
<li><code>&lt;=</code></li>
</ul>

<p>Examples:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">numUsers</span> <span class="o">&lt;</span> <span class="m">5</span> <span class="cp">%}</span><span class="x">...</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">i</span> <span class="o">==</span> <span class="m">0</span> <span class="cp">%}</span><span class="x">...</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<h3 id="logic">Logic</h3>

<ul>
<li><code>and</code></li>
<li><code>or</code></li>
<li><code>not</code></li>
<li>Use parentheses to group expressions</li>
</ul>

<p>Examples:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">users</span> <span class="k">and</span> <span class="nv">showUsers</span> <span class="cp">%}</span><span class="x">...</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">i</span> <span class="o">==</span> <span class="m">0</span> <span class="k">and</span> <span class="k">not</span> <span class="nv">hideFirst</span> <span class="cp">%}</span><span class="x">...</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="o">(</span><span class="nv">x</span> <span class="o">&lt;</span> <span class="m">5</span> <span class="k">or</span> <span class="nv">y</span> <span class="o">&lt;</span> <span class="m">5</span><span class="o">)</span> <span class="k">and</span> <span class="nv">foo</span> <span class="cp">%}</span><span class="x">...</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<h3 id="if-expression">If Expression</h3>

<p>Similar to javascript&#39;s ternary operator, you can use <code>if</code> as if it were an inline expression:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="s2">&quot;true&quot;</span> <span class="k">if</span> <span class="nv">foo</span> <span class="k">else</span> <span class="s2">&quot;false&quot;</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<p>The above outputs the string &quot;true&quot; if foo is truthy, otherwise &quot;false&quot;. This is especially useful for default values like so:</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">baz</span><span class="o">(</span><span class="nv">foo</span> <span class="k">if</span> <span class="nv">foo</span> <span class="k">else</span> <span class="s2">&quot;default&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<h3 id="function-calls">Function Calls</h3>

<p>If you have passed a javascript method to your template, you can call it like normal.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo</span><span class="o">(</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</code></pre></div>
<h2 id="autoescaping">Autoescaping</h2>

<p>If autoescaping is turned on in the environment, all output will automatically be escaped for safe output. To manually mark output as safe, use the <code>safe</code> filter. Nunjucks will not escape this output.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span><span class="x">           // &amp;lt;span%gt;</span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">|</span> <span class="nf">safe</span> <span class="cp">}}</span><span class="x">    // &lt;span&gt;</span>
</code></pre></div>
<p>If autoescaping is turned off, all output will be rendered as it is. You can manually escape variables with the <code>escape</code> filter.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span><span class="x">           // &lt;span&gt;</span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">|</span> <span class="nf">escape</span> <span class="cp">}}</span><span class="x">  // &amp;lt;span&amp;gt;</span>
</code></pre></div>
<h2 id="global-functions">Global Functions</h2>

<p>There are a few builtin global functions that cover some common cases.</p>

<h3 id="rangestart-stop-step">range([start], stop, [step])</h3>

<p>If you need to iterate over a fixed set of numbers, <code>range</code> generates the set for you. The numbers begin at <code>start</code> (default 0) and incremeny by <code>step</code> (default 1) until it reaches <code>stop</code>, not including it.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="m">0</span><span class="o">,</span> <span class="m">5</span><span class="o">)</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>The above outputs <code>0,1,2,3,4</code>.</p>

<h3 id="cycleritem1-item2-itemn">cycler(item1, item2, ...itemN)</h3>

<p>An easy way to rotate through several values is to use <code>cycler</code>, which takes any number of arguments and cycles through them.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">cls</span> <span class="o">=</span> <span class="nv">cycler</span><span class="o">(</span><span class="s2">&quot;odd&quot;</span><span class="o">,</span> <span class="s2">&quot;even&quot;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">row</span> <span class="k">in</span> <span class="nv">rows</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;div class=&quot;</span><span class="cp">{{</span> <span class="nv">cls.next</span><span class="o">()</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{{</span> <span class="nv">row.name</span> <span class="cp">}}</span><span class="x">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>In the above example, odd rows have the class &quot;odd&quot; and even rows have the class &quot;even&quot;.</p>

<h3 id="joinerseparator">joiner([separator])</h3>

<p>When combining multiple items, it&#39;s common to want to delimit them with something like a comma, but you don&#39;t want to output the separator for the first item. The <code>joiner</code> class will output <code>separator</code> (default &quot;,&quot;) whenever it is called except for the first time.</p>
<div class="highlight"><pre><code class="jinja language-jinja" data-lang="jinja"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">comma</span> <span class="o">=</span> <span class="nv">joiner</span><span class="o">()</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">tags</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">comma</span><span class="o">()</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</code></pre></div>
<p>If <code>tags</code> was <code>[&quot;food&quot;, &quot;beer&quot;, &quot;dessert&quot;]</code>, the above example would output <code>food, beer, dessert</code>.</p>

<h2 id="builtin-filters">Builtin Filters</h2>

<p>Nunjucks has ported most of jinja&#39;s filters (click through for documentation):</p>

<ul>
<li><a href="http://jinja.pocoo.org/docs/templates/#abs">abs</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#batch">batch</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#capitalize">capitalize</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#center">center</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#default">default</a> (aliased as <code>d</code>)</li>
<li><a href="http://jinja.pocoo.org/docs/templates/#dictsort">dictsort</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#escape">escape</a> (aliased as <code>e</code>)</li>
<li><a href="http://jinja.pocoo.org/docs/templates/#safe">safe</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#first">first</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#groupby">groupby</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#indent">indent</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#join">join</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#last">last</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#length">length</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#list">list</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#lower">lower</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#random">random</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#replace">replace</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#reverse">reverse</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#round">round</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#slice">slice</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#sort">sort</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#string">string</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#title">title</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#trim">trim</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#truncate">truncate</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#upper">upper</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#urlencode">urlencode</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#wordcount">wordcount</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#float">float</a></li>
<li><a href="http://jinja.pocoo.org/docs/templates/#int">int</a></li>
</ul>

<p>Alternatively, it&#39;s easy to <a href="https://github.com/jlongster/nunjucks/blob/master/src/filters.js">read the JavaScript
code</a>
that implements these filters.</p>

  </div>
</div>



    <footer>
      Found a bug in the
      documentation? <a href="https://github.com/jlongster/nunjucks-docs">Fix
      it or file an issue</a>!
    </footer>

    <script src="bower_components/jquery/jquery.min.js"></script>
    <script src="bower_components/bootstrap/js/affix.js"></script>

    <script src="js/app.js"></script>
    <script src="js/subpage.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9014321-3', 'jlongster.github.io');
  ga('send', 'pageview');
</script>
  </body>
</html>
